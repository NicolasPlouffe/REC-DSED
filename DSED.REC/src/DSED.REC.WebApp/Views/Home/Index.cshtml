@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
<h1 class="display-4">Tableau de bord Leads</h1>
    <div>
        <ul id = "leads">
        </ul>
    </div>
</div>

@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.1/signalr.js"></script>

    <script>
    const connection = new signalR.HubConnectionBuilder()
                .withUrl("/DashBoardHub")
                .build();
                
    connection.on("ReceiveUpdate", function (action, leadObject) { 
        const list = document.GetElementById("leads");
        const li = document.createElement("li");
        
        li.textContent = `${action.toUpperCase()}`
        li.prepend(li);
    });
          
    connection.start().catch(function (err){       
          return console.error(err.toString();
          });
    </script>  
}